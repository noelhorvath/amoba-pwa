"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[687],{687:(C,g,s)=>{s.r(g),s.d(g,{HomeModule:()=>L});var l=s(9808),u=s(3136),e=s(4893),a=s(5636),m=s(655),h=s(8961),r=s(4899),c=s(859),p=s(6378);let T=(()=>{class t{constructor(){}getImgSrc(){var n,i;switch(this.playerTurn){case p.C.WHITE:return null!==(n=this.whiteImgSrc)&&void 0!==n?n:r.B.DEFAULT_WHITE_EMOTE.urls[0];case p.C.BLACK:return null!==(i=this.blackImgSrc)&&void 0!==i?i:r.B.DEFAULT_BLACK_EMOTE.urls[0];default:throw new Error("Player is undefined!")}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-game-turn-chip"]],inputs:{turnIndex:"turnIndex",playerTurn:"playerTurn",whiteImgSrc:"whiteImgSrc",blackImgSrc:"blackImgSrc"},decls:5,vars:2,consts:[["color","secondary",1,"turn-index-text"],[3,"src"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-chip")(1,"ion-label",0),e._uU(2),e.qZA(),e.TgZ(3,"ion-avatar"),e._UZ(4,"ion-img",1),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(i.turnIndex+"."),e.xp6(2),e.Q6J("src",i.getImgSrc()))},directives:[a.hM,a.Q$,a.BJ,a.Xz],styles:["[_nghost-%COMP%]   ion-img[_ngcontent-%COMP%]{background:#ffffff}[_nghost-%COMP%]   .turn-index-text[_ngcontent-%COMP%]{font-size:larger;font-weight:700}"]}),t})();function v(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"ion-chip")(2,"ion-text",1),e._uU(3),e.qZA(),e.TgZ(4,"ion-text",2),e._uU(5),e.qZA(),e.TgZ(6,"ion-text",1),e._uU(7),e.qZA(),e.TgZ(8,"ion-text",2),e._uU(9),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Oqu("Row: "),e.xp6(2),e.Oqu(n.prevMove.y+1),e.xp6(2),e.Oqu("Col: "),e.xp6(2),e.Oqu(n.prevMove.x+1)}}let S=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-game-prev-move-chip"]],inputs:{prevMove:"prevMove"},decls:1,vars:1,consts:[[4,"ngIf"],["color","primary"],["color","secondary"]],template:function(n,i){1&n&&e.YNc(0,v,10,4,"ng-container",0),2&n&&e.Q6J("ngIf",i.prevMove)},directives:[l.O5,a.hM,a.yW],styles:["[_nghost-%COMP%]   ion-img[_ngcontent-%COMP%]{background:#ffffff}[_nghost-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:medium;font-weight:700;padding-left:.25rem}"]}),t})();var b=s(8496);function y(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"ion-chip",2),e._UZ(2,"ion-icon",3),e.TgZ(3,"ion-avatar"),e._UZ(4,"ion-img",4),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("src",n.whiteImgSrc)}}function _(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"ion-chip",2),e._UZ(2,"ion-icon",3),e.TgZ(3,"ion-avatar"),e._UZ(4,"ion-img",4),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("src",n.blackImgSrc)}}function M(t,o){1&t&&(e.ynx(0),e.TgZ(1,"ion-chip",5)(2,"ion-label"),e._uU(3),e.qZA()(),e.BQk()),2&t&&(e.xp6(3),e.Oqu("Draw"))}let x=(()=>{class t{constructor(){this.gameStatusEnum=b.X}ngOnChanges(n){n.blackImgSrc&&(this.blackImgSrc||(this.blackImgSrc=r.B.DEFAULT_BLACK_EMOTE.urls[0])),n.whiteImgSrc&&(this.whiteImgSrc||(this.whiteImgSrc=r.B.DEFAULT_WHITE_EMOTE.urls[0]))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-game-result-chip"]],inputs:{gameState:"gameState",blackImgSrc:"blackImgSrc",whiteImgSrc:"whiteImgSrc"},features:[e.TTD],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["color","success",1,"ion-text-center"],["name","trophy-outline"],[3,"src"],["color","warning",1,"ion-text-center"]],template:function(n,i){1&n&&(e.ynx(0,0),e.YNc(1,y,5,1,"ng-container",1),e.YNc(2,_,5,1,"ng-container",1),e.YNc(3,M,4,1,"ng-container",1),e.BQk()),2&n&&(e.Q6J("ngSwitch",null==i.gameState?null:i.gameState.status),e.xp6(1),e.Q6J("ngSwitchCase",i.gameStatusEnum.WHITE_WON),e.xp6(1),e.Q6J("ngSwitchCase",i.gameStatusEnum.BLACK_WON),e.xp6(1),e.Q6J("ngSwitchCase",i.gameStatusEnum.DRAW))},directives:[l.RF,l.n9,a.hM,a.gu,a.BJ,a.Xz,a.Q$],styles:["[_nghost-%COMP%]   ion-img[_ngcontent-%COMP%]{background:#ffffff}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:medium;font-weight:bolder}"]}),t})();function E(t,o){if(1&t&&(e.TgZ(0,"ion-title"),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Oqu(n.title.charAt(0).toUpperCase()+n.title.slice(1))}}function I(t,o){1&t&&e.YNc(0,E,2,1,"ng-template",null,3,e.W1O)}function P(t,o){if(1&t&&(e.ynx(0),e._UZ(1,"app-game-turn-chip",4),e.ALo(2,"async"),e.ALo(3,"async"),e._UZ(4,"app-game-prev-move-chip",5),e.ALo(5,"async"),e._UZ(6,"app-game-result-chip",6),e.ALo(7,"async"),e.BQk()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("turnIndex",e.lcZ(2,8,n.getTurnIndex()))("playerTurn",e.lcZ(3,10,n.getPlayerTurn()))("whiteImgSrc",null==n.gameSettings||null==n.gameSettings.whiteEmote||null==n.gameSettings.whiteEmote.urls?null:n.gameSettings.whiteEmote.urls[3])("blackImgSrc",null==n.gameSettings||null==n.gameSettings.blackEmote||null==n.gameSettings.blackEmote.urls?null:n.gameSettings.blackEmote.urls[3]),e.xp6(3),e.Q6J("prevMove",e.lcZ(5,12,n.getPrevMove())),e.xp6(2),e.Q6J("gameState",e.lcZ(7,14,n.getGameState()))("whiteImgSrc",null==n.gameSettings||null==n.gameSettings.whiteEmote||null==n.gameSettings.whiteEmote.urls?null:n.gameSettings.whiteEmote.urls[3])("blackImgSrc",null==n.gameSettings||null==n.gameSettings.blackEmote||null==n.gameSettings.blackEmote.urls?null:n.gameSettings.blackEmote.urls[3])}}function Z(t,o){if(1&t&&(e.ynx(0),e.YNc(1,P,8,16,"ng-container",2),e.BQk()),2&t){e.oxw();const n=e.MAs(4),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.wasGameStarted())("ngIfElse",n)}}function G(t,o){if(1&t&&(e.TgZ(0,"ion-title"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Oqu(n.title.charAt(0).toUpperCase()+n.title.slice(1))}}function O(t,o){if(1&t&&(e.ynx(0),e.YNc(1,I,2,0,null,1),e.YNc(2,Z,2,2,"ng-container",2),e.YNc(3,G,2,1,"ng-template",null,3,e.W1O),e.BQk()),2&t){const n=e.MAs(4),i=e.oxw();e.xp6(1),e.Q6J("ngIf","game"!==i.title),e.xp6(1),e.Q6J("ngIf","game"===i.title)("ngIfElse",n)}}let w=(()=>{class t{constructor(n,i,d){this.engine=n,this.gameSettingsService=i,this.message=d,this.title="toolbar"}ngOnChanges(n){n.title&&"game"===this.title&&(this.gameSettingsService.get().then(i=>{this.gameSettings=i}).catch(()=>(0,m.mG)(this,void 0,void 0,function*(){yield this.message.createToast({header:"Game settings error",message:"Failed to load game settings!",buttons:["X"],position:"top",color:"danger",duration:2e3})})),this.gameSettingsChangedSubscription=this.gameSettingsService.gameSettingsChanged$.subscribe(()=>(0,m.mG)(this,void 0,void 0,function*(){try{this.gameSettings=yield this.gameSettingsService.get()}catch(i){yield this.message.createToast({header:"Game settings error",message:"Failed to load changed game settings!",buttons:["X"],position:"top",color:"danger",duration:2e3})}})))}wasGameStarted(){return this.engine.wasGameStarted()}getTurnIndex(){return this.engine.turnIndex$}getPlayerTurn(){return this.engine.playerTurn$}getPrevMove(){return this.engine.prevMove$}getGameState(){return this.engine.state$}ngOnDestroy(){var n;null===(n=this.gameSettingsChangedSubscription)||void 0===n||n.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.G),e.Y36(r.B),e.Y36(c.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-toolbar"]],inputs:{title:"title"},features:[e.TTD],decls:2,vars:1,consts:[[1,"ion-text-center","ion-align-items-center"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["titleText",""],[3,"turnIndex","playerTurn","whiteImgSrc","blackImgSrc"],[3,"prevMove"],[3,"gameState","whiteImgSrc","blackImgSrc"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-toolbar",0),e.YNc(1,O,5,3,"ng-container",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.title))},directives:[a.sr,l.O5,a.wd,T,S,x],pipes:[l.Ov],styles:[""]}),t})(),A=(()=>{class t{constructor(){this.colors={game:"primary",settings:"primary"},this.tabSelect=new e.vpe}tabChangeHandler(n){switch(Object.keys(this.colors).map(i=>this.colors[i]="primary"),n.tab){case"game":case"settings":this.colors[n.tab]="secondary"}this.tabSelect.emit(n.tab)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tab-bar"]],outputs:{tabSelect:"tabSelect"},decls:10,vars:4,consts:[[3,"ionTabsDidChange"],["slot","bottom"],["tab","game"],["name","game-controller-sharp",3,"color"],["tab","settings"],["name","settings-sharp",3,"color"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-tabs",0),e.NdJ("ionTabsDidChange",function(f){return i.tabChangeHandler(f)}),e.TgZ(1,"ion-tab-bar",1)(2,"ion-tab-button",2),e._UZ(3,"ion-icon",3),e.TgZ(4,"ion-label"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-tab-button",4),e._UZ(7,"ion-icon",5),e.TgZ(8,"ion-label"),e._uU(9),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("color",i.colors.game),e.xp6(2),e.Oqu("Game"),e.xp6(2),e.Q6J("color",i.colors.settings),e.xp6(2),e.Oqu("Settings"))},directives:[a.UN,a.yq,a.ZU,a.gu,a.Q$],styles:["[_nghost-%COMP%]   ion-tabs[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{--ripple-color: #62ceff}"]}),t})();const B=[{path:"",component:(()=>{class t{constructor(){}tabSelectChangeHandler(n){this.selectedTab=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:5,vars:1,consts:[[3,"title"],[3,"tabSelect"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header"),e._UZ(1,"app-toolbar",0),e.qZA(),e.TgZ(2,"ion-content"),e._UZ(3,"ion-router-outlet"),e.TgZ(4,"app-tab-bar",1),e.NdJ("tabSelect",function(f){return i.tabSelectChangeHandler(f)}),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("title",i.selectedTab))},directives:[a.Gu,w,a.W2,a.jP,A],styles:[""]}),t})(),children:[{path:"game",loadChildren:()=>s.e(7266).then(s.bind(s,7266)).then(t=>t.GameModule)},{path:"settings",loadChildren:()=>s.e(4393).then(s.bind(s,4393)).then(t=>t.SettingsModule)},{path:"",redirectTo:"/home/game",pathMatch:"full"},{path:"**",redirectTo:"/home/game",pathMatch:"full"}]}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(B)],u.Bz]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,a.Pc]]}),t})(),Q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,a.Pc]]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,a.Pc]]}),t})(),H=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,a.Pc]]}),t})(),R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,a.Pc,Q,F,H]]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,U,a.Pc,J,R]]}),t})()},859:(C,g,s)=>{s.d(g,{e:()=>a});var l=s(655),u=s(4893),e=s(5636);let a=(()=>{class m{constructor(r,c,p){this.alertController=r,this.toastController=c,this.loadingController=p}createAlert(r){return(0,l.mG)(this,void 0,void 0,function*(){try{const c=yield this.alertController.create(r);void 0!==this.alertElement&&(yield this.dismissAlert()),this.alertElement=c,yield this.alertElement.present()}catch(c){return Promise.reject(c)}})}createToast(r){return(0,l.mG)(this,void 0,void 0,function*(){try{const c=yield this.toastController.create(r);void 0!==this.toastElement&&(yield this.dismissToast()),this.toastElement=c,yield this.toastElement.present()}catch(c){return Promise.reject(c)}})}createLoading(r){return(0,l.mG)(this,void 0,void 0,function*(){try{const c=yield this.loadingController.create(r);void 0!==this.loadingElement&&(yield this.dismissLoading()),this.loadingElement=c,yield this.loadingElement.present()}catch(c){return Promise.reject(c)}})}dismissAlert(){return(0,l.mG)(this,void 0,void 0,function*(){if(void 0!==this.alertElement)try{const r=yield this.alertElement.dismiss();return this.alertElement=void 0,Promise.resolve(r)}catch(r){return Promise.reject(r)}return Promise.resolve(!1)})}dismissToast(){return(0,l.mG)(this,void 0,void 0,function*(){if(void 0!==this.toastElement)try{const r=yield this.toastElement.dismiss();return this.toastElement=void 0,Promise.resolve(r)}catch(r){return Promise.reject(r)}return Promise.resolve(!1)})}dismissLoading(){return(0,l.mG)(this,void 0,void 0,function*(){if(void 0!==this.loadingElement)try{const r=yield this.loadingElement.dismiss();return this.loadingElement=void 0,Promise.resolve(r)}catch(r){return Promise.reject(r)}return Promise.resolve(!1)})}}return m.\u0275fac=function(r){return new(r||m)(u.LFG(e.Br),u.LFG(e.yF),u.LFG(e.HT))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);